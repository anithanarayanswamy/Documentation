<?xml version="1.0" encoding="UTF-8"?>
<graphml xmlns="http://graphml.graphdrawing.org/xmlns"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns http://graphml.graphdrawing.org/xmlns/1.0/graphml.xsd">
  
  <!-- Define attribute keys -->
  <key id="name" for="node" attr.name="name" attr.type="string"/>
  <key id="guard" for="edge" attr.name="guard" attr.type="string"/>
  <key id="weight" for="edge" attr.name="weight" attr.type="double"/>
  
  <graph id="TodoModel" edgedefault="directed">
    <!-- Vertices -->
    <node id="start">
      <data key="name">start_application</data>
    </node>
    <node id="empty">
      <data key="name">verify_empty_state</data>
    </node>
    <node id="list">
      <data key="name">verify_list_state</data>
    </node>
    
    <!-- Edges -->
    <edge id="e1" source="start" target="empty">
      <data key="name">initialize</data>
      <data key="weight">1.0</data>
    </edge>
    <edge id="e2" source="empty" target="list">
      <data key="name">add_todo</data>
      <data key="weight">1.0</data>
    </edge>
    <edge id="e3" source="list" target="list">
      <data key="name">add_todo</data>
      <data key="weight">1.0</data>
    </edge>
    <edge id="e4" source="list" target="list">
      <data key="name">toggle_todo</data>
      <data key="weight">1.0</data>
    </edge>
    <edge id="e5" source="list" target="list">
      <data key="name">delete_todo</data>
      <data key="weight">1.0</data>
    </edge>
    <edge id="e6" source="list" target="empty">
      <data key="name">delete_todo</data>
      <data key="guard">last_item</data>
      <data key="weight">1.0</data>
    </edge>
    <edge id="e7" source="list" target="start">
      <data key="name">cleanup</data>
      <data key="weight">1.0</data>
    </edge>
    <edge id="e8" source="empty" target="start">
      <data key="name">cleanup</data>
      <data key="weight">1.0</data>
    </edge>
  </graph>
</graphml>